Explaining the Calculator job from the article: "The what, The from, and The to: The Migration Games in Deduplicated Systems"
Roei Kisous, Ariel Kolikant, Abhinav Duggal, Sarai Sheinvald, Gala Yadgar

For evaluating the nature of a specific migration plan, we implemented a calculator that outputs the costs and requirements.
From this plan, the calculator provides the traffic consumption, score achieved, and deletion obtained while also providing the initial and final size of each volume with specific traffic and deletion. Each volume is iterated over and its incoming traffic and resulting deletion is calculated. The final traffic is equal to the sum of all traffic calculated, and the final deletion is equal to the sum of all deletions minus the sum of all traffic.
We added a results cache to save time, so that in case a migration plan needs to be calculated again (which we might not know about), it is not calculated again and instead the results are retrieved from the cache. The migration plan's hash is inserted as a key into the cache database with the corresponding results. The hash is recalculated and searched in the database when trying to find this plan again. It is returned if it is found, otherwise it is recalculated. The results will be fetched if the results are in the db specified in the -cache_path tag and the -no_cache tag was not used.
Our file-based lock allows the calculator to run on multiple threads concurrently without user interaction. There is no restriction on the number of threads the user may run as long as he does not delete the txt file created under the folder in which the database is stored, this is the file lock.
Furthermore, to test our plan, we use the calculator both on the sampled system (for real-time evaluation) and on the original system (for static evaluation).

For more information, please read 'CostCalc.pdf'.